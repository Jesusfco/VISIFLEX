<div id="headerCard">
    <h2>Usuarios</h2>

    <input placeholder="Buscar Usuario" id="search" [(ngModel)]="search.toSearch" type="text" name="toSearch" (keyup)="searchUser()">

    <br>
    <div (onmouseout)="searchUser()">
        <label>Resultados por pagina:</label>
        <md-slider class="example-margin" min="1" max="100" step="5" [(ngModel)]="search.paginate" name="paginate" (click)="searchUser()" [thumbLabel]="true"></md-slider>
    </div>



    <md-select placeholder="Pagina:" [(ngModel)]="search.page" name="page" id="selectPaginator">
        <md-option *ngFor="let x of pages" [value]="x" (click)="searchUser()" (submit)="searchUser()">
            {{ x }}
        </md-option>
    </md-select>

    <br><br>
    <p>Pagina: {{ search.page }} / {{ search.last_page }}</p>




</div>

<table>
    <thead>
        <tr>
            <th>Nombre</th>
            <th>Correo</th>
            <th>Tipo</th>
            <th>Ver</th>
            <th>Modificar</th>
            <th>Eliminar</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let user of users">
            <th>{{ user.name }}</th>
            <th>{{ user.email }}</th>
            <th>
                <div class="typeUser" [ngClass]="{employer: user.type == 1, admin: user.type == 9, superAdmin: user.type == 10}"></div>
            </th>
            <th><button md-raised-button color="primary" (click)="user.view = !user.view">Ver</button></th>
            <th><button md-raised-button color="" (click)="user.modify = !user.modify">Modificar</button></th>
            <th><button md-raised-button color="warn" (click)="user.delete = !user.delete">Eliminar</button></th>

            <app-edit-user [user]="user" *ngIf="user.modify" (editedUserEvent)="update($event)"></app-edit-user>
            <app-view-user [user]="user" *ngIf="user.view"></app-view-user>
        </tr>



    </tbody>
</table>

<button md-fab id="createBtn" (click)="createUserView = !createUserView">
    <md-icon >person_add</md-icon>
</button>
<app-create-user (close)="onCloseCreate($event)" (create)="createUser($event)" *ngIf="createUserView"></app-create-user>